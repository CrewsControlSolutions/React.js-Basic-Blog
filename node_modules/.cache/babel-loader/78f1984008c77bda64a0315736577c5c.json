{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar funcs_html_1 = require(\"./funcs-html\");\n\nvar value_types_1 = require(\"./value-types\");\n\nvar obj = require(\"./helpers/object\");\n\nvar arr = require(\"./helpers/array\");\n\nvar OpAttributeSanitizer_1 = require(\"./OpAttributeSanitizer\");\n\nvar DEFAULT_INLINE_FONTS = {\n  serif: 'font-family: Georgia, Times New Roman, serif',\n  monospace: 'font-family: Monaco, Courier New, monospace'\n};\nexports.DEFAULT_INLINE_STYLES = {\n  font: function (value) {\n    return DEFAULT_INLINE_FONTS[value] || 'font-family:' + value;\n  },\n  size: {\n    small: 'font-size: 0.75em',\n    large: 'font-size: 1.5em',\n    huge: 'font-size: 2.5em'\n  },\n  indent: function (value, op) {\n    var indentSize = parseInt(value, 10) * 3;\n    var side = op.attributes['direction'] === 'rtl' ? 'right' : 'left';\n    return 'padding-' + side + ':' + indentSize + 'em';\n  },\n  direction: function (value, op) {\n    if (value === 'rtl') {\n      return 'direction:rtl' + (op.attributes['align'] ? '' : '; text-align:inherit');\n    } else {\n      return undefined;\n    }\n  }\n};\n\nvar OpToHtmlConverter = function () {\n  function OpToHtmlConverter(op, options) {\n    this.op = op;\n    this.options = obj.assign({}, {\n      classPrefix: 'ql',\n      inlineStyles: undefined,\n      encodeHtml: true,\n      listItemTag: 'li',\n      paragraphTag: 'p'\n    }, options);\n  }\n\n  OpToHtmlConverter.prototype.prefixClass = function (className) {\n    if (!this.options.classPrefix) {\n      return className + '';\n    }\n\n    return this.options.classPrefix + '-' + className;\n  };\n\n  OpToHtmlConverter.prototype.getHtml = function () {\n    var parts = this.getHtmlParts();\n    return parts.openingTag + parts.content + parts.closingTag;\n  };\n\n  OpToHtmlConverter.prototype.getHtmlParts = function () {\n    var _this = this;\n\n    if (this.op.isJustNewline() && !this.op.isContainerBlock()) {\n      return {\n        openingTag: '',\n        closingTag: '',\n        content: value_types_1.NewLine\n      };\n    }\n\n    var tags = this.getTags(),\n        attrs = this.getTagAttributes();\n\n    if (!tags.length && attrs.length) {\n      tags.push('span');\n    }\n\n    var beginTags = [],\n        endTags = [];\n    var imgTag = 'img';\n\n    var isImageLink = function (tag) {\n      return tag === imgTag && !!_this.op.attributes.link;\n    };\n\n    for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n      var tag = tags_1[_i];\n\n      if (isImageLink(tag)) {\n        beginTags.push(funcs_html_1.makeStartTag('a', this.getLinkAttrs()));\n      }\n\n      beginTags.push(funcs_html_1.makeStartTag(tag, attrs));\n      endTags.push(tag === 'img' ? '' : funcs_html_1.makeEndTag(tag));\n\n      if (isImageLink(tag)) {\n        endTags.push(funcs_html_1.makeEndTag('a'));\n      }\n\n      attrs = [];\n    }\n\n    endTags.reverse();\n    return {\n      openingTag: beginTags.join(''),\n      content: this.getContent(),\n      closingTag: endTags.join('')\n    };\n  };\n\n  OpToHtmlConverter.prototype.getContent = function () {\n    if (this.op.isContainerBlock()) {\n      return '';\n    }\n\n    if (this.op.isMentions()) {\n      return this.op.insert.value;\n    }\n\n    var content = this.op.isFormula() || this.op.isText() ? this.op.insert.value : '';\n    return this.options.encodeHtml && funcs_html_1.encodeHtml(content) || content;\n  };\n\n  OpToHtmlConverter.prototype.getCssClasses = function () {\n    var attrs = this.op.attributes;\n\n    if (this.options.inlineStyles) {\n      return [];\n    }\n\n    var propsArr = ['indent', 'align', 'direction', 'font', 'size'];\n\n    if (this.options.allowBackgroundClasses) {\n      propsArr.push('background');\n    }\n\n    return propsArr.filter(function (prop) {\n      return !!attrs[prop];\n    }).filter(function (prop) {\n      return prop === 'background' ? OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidColorLiteral(attrs[prop]) : true;\n    }).map(function (prop) {\n      return prop + '-' + attrs[prop];\n    }).concat(this.op.isFormula() ? 'formula' : []).concat(this.op.isVideo() ? 'video' : []).concat(this.op.isImage() ? 'image' : []).map(this.prefixClass.bind(this));\n  };\n\n  OpToHtmlConverter.prototype.getCssStyles = function () {\n    var _this = this;\n\n    var attrs = this.op.attributes;\n    var propsArr = [['color']];\n\n    if (!!this.options.inlineStyles || !this.options.allowBackgroundClasses) {\n      propsArr.push(['background', 'background-color']);\n    }\n\n    if (this.options.inlineStyles) {\n      propsArr = propsArr.concat([['indent'], ['align', 'text-align'], ['direction'], ['font', 'font-family'], ['size']]);\n    }\n\n    return propsArr.filter(function (item) {\n      return !!attrs[item[0]];\n    }).map(function (item) {\n      var attribute = item[0];\n      var attrValue = attrs[attribute];\n      var attributeConverter = _this.options.inlineStyles && _this.options.inlineStyles[attribute] || exports.DEFAULT_INLINE_STYLES[attribute];\n\n      if (typeof attributeConverter === 'object') {\n        return attributeConverter[attrValue];\n      } else if (typeof attributeConverter === 'function') {\n        var converterFn = attributeConverter;\n        return converterFn(attrValue, _this.op);\n      } else {\n        return arr.preferSecond(item) + ':' + attrValue;\n      }\n    }).filter(function (item) {\n      return item !== undefined;\n    });\n  };\n\n  OpToHtmlConverter.prototype.getTagAttributes = function () {\n    if (this.op.attributes.code && !this.op.isLink()) {\n      return [];\n    }\n\n    var makeAttr = this.makeAttr.bind(this);\n    var classes = this.getCssClasses();\n    var tagAttrs = classes.length ? [makeAttr('class', classes.join(' '))] : [];\n\n    if (this.op.isImage()) {\n      this.op.attributes.width && (tagAttrs = tagAttrs.concat(makeAttr('width', this.op.attributes.width)));\n      return tagAttrs.concat(makeAttr('src', this.op.insert.value));\n    }\n\n    if (this.op.isACheckList()) {\n      return tagAttrs.concat(makeAttr('data-checked', this.op.isCheckedList() ? 'true' : 'false'));\n    }\n\n    if (this.op.isFormula()) {\n      return tagAttrs;\n    }\n\n    if (this.op.isVideo()) {\n      return tagAttrs.concat(makeAttr('frameborder', '0'), makeAttr('allowfullscreen', 'true'), makeAttr('src', this.op.insert.value));\n    }\n\n    if (this.op.isMentions()) {\n      var mention = this.op.attributes.mention;\n\n      if (mention.class) {\n        tagAttrs = tagAttrs.concat(makeAttr('class', mention.class));\n      }\n\n      if (mention['end-point'] && mention.slug) {\n        tagAttrs = tagAttrs.concat(makeAttr('href', mention['end-point'] + '/' + mention.slug));\n      } else {\n        tagAttrs = tagAttrs.concat(makeAttr('href', 'about:blank'));\n      }\n\n      if (mention.target) {\n        tagAttrs = tagAttrs.concat(makeAttr('target', mention.target));\n      }\n\n      return tagAttrs;\n    }\n\n    var styles = this.getCssStyles();\n\n    if (styles.length) {\n      tagAttrs.push(makeAttr('style', styles.join(';')));\n    }\n\n    if (this.op.isCodeBlock() && typeof this.op.attributes['code-block'] === 'string') {\n      return tagAttrs.concat(makeAttr('data-language', this.op.attributes['code-block']));\n    }\n\n    if (this.op.isContainerBlock()) {\n      return tagAttrs;\n    }\n\n    if (this.op.isLink()) {\n      tagAttrs = tagAttrs.concat(this.getLinkAttrs());\n    }\n\n    return tagAttrs;\n  };\n\n  OpToHtmlConverter.prototype.makeAttr = function (k, v) {\n    return {\n      key: k,\n      value: v\n    };\n  };\n\n  OpToHtmlConverter.prototype.getLinkAttrs = function () {\n    var tagAttrs = [];\n    var targetForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.isValidTarget(this.options.linkTarget || '') ? this.options.linkTarget : undefined;\n    var relForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidRel(this.options.linkRel || '') ? this.options.linkRel : undefined;\n    var target = this.op.attributes.target || targetForAll;\n    var rel = this.op.attributes.rel || relForAll;\n    return tagAttrs.concat(this.makeAttr('href', this.op.attributes.link)).concat(target ? this.makeAttr('target', target) : []).concat(rel ? this.makeAttr('rel', rel) : []);\n  };\n\n  OpToHtmlConverter.prototype.getTags = function () {\n    var attrs = this.op.attributes;\n\n    if (!this.op.isText()) {\n      return [this.op.isVideo() ? 'iframe' : this.op.isImage() ? 'img' : 'span'];\n    }\n\n    var positionTag = this.options.paragraphTag || 'p';\n    var blocks = [['blockquote'], ['code-block', 'pre'], ['list', this.options.listItemTag], ['header'], ['align', positionTag], ['direction', positionTag], ['indent', positionTag]];\n\n    for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n      var item = blocks_1[_i];\n      var firstItem = item[0];\n\n      if (attrs[firstItem]) {\n        return firstItem === 'header' ? ['h' + attrs[firstItem]] : [arr.preferSecond(item)];\n      }\n    }\n\n    return [['link', 'a'], ['mentions', 'a'], ['script'], ['bold', 'strong'], ['italic', 'em'], ['strike', 's'], ['underline', 'u'], ['code']].filter(function (item) {\n      return !!attrs[item[0]];\n    }).map(function (item) {\n      return item[0] === 'script' ? attrs[item[0]] === value_types_1.ScriptType.Sub ? 'sub' : 'sup' : arr.preferSecond(item);\n    });\n  };\n\n  return OpToHtmlConverter;\n}();\n\nexports.OpToHtmlConverter = OpToHtmlConverter;","map":{"version":3,"sources":["/Users/mikecrews/Documents/TechAcademy/GitHub/React.js/blog-project/node_modules/quill-delta-to-html/dist/commonjs/OpToHtmlConverter.js"],"names":["Object","defineProperty","exports","value","funcs_html_1","require","value_types_1","obj","arr","OpAttributeSanitizer_1","DEFAULT_INLINE_FONTS","serif","monospace","DEFAULT_INLINE_STYLES","font","size","small","large","huge","indent","op","indentSize","parseInt","side","attributes","direction","undefined","OpToHtmlConverter","options","assign","classPrefix","inlineStyles","encodeHtml","listItemTag","paragraphTag","prototype","prefixClass","className","getHtml","parts","getHtmlParts","openingTag","content","closingTag","_this","isJustNewline","isContainerBlock","NewLine","tags","getTags","attrs","getTagAttributes","length","push","beginTags","endTags","imgTag","isImageLink","tag","link","_i","tags_1","makeStartTag","getLinkAttrs","makeEndTag","reverse","join","getContent","isMentions","insert","isFormula","isText","getCssClasses","propsArr","allowBackgroundClasses","filter","prop","OpAttributeSanitizer","IsValidColorLiteral","map","concat","isVideo","isImage","bind","getCssStyles","item","attribute","attrValue","attributeConverter","converterFn","preferSecond","code","isLink","makeAttr","classes","tagAttrs","width","isACheckList","isCheckedList","mention","class","slug","target","styles","isCodeBlock","k","v","key","targetForAll","isValidTarget","linkTarget","relForAll","IsValidRel","linkRel","rel","positionTag","blocks","blocks_1","firstItem","ScriptType","Sub"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar funcs_html_1 = require(\"./funcs-html\");\nvar value_types_1 = require(\"./value-types\");\nvar obj = require(\"./helpers/object\");\nvar arr = require(\"./helpers/array\");\nvar OpAttributeSanitizer_1 = require(\"./OpAttributeSanitizer\");\nvar DEFAULT_INLINE_FONTS = {\n    serif: 'font-family: Georgia, Times New Roman, serif',\n    monospace: 'font-family: Monaco, Courier New, monospace'\n};\nexports.DEFAULT_INLINE_STYLES = {\n    font: function (value) { return DEFAULT_INLINE_FONTS[value] || 'font-family:' + value; },\n    size: {\n        small: 'font-size: 0.75em',\n        large: 'font-size: 1.5em',\n        huge: 'font-size: 2.5em'\n    },\n    indent: function (value, op) {\n        var indentSize = parseInt(value, 10) * 3;\n        var side = op.attributes['direction'] === 'rtl' ? 'right' : 'left';\n        return 'padding-' + side + ':' + indentSize + 'em';\n    },\n    direction: function (value, op) {\n        if (value === 'rtl') {\n            return ('direction:rtl' + (op.attributes['align'] ? '' : '; text-align:inherit'));\n        }\n        else {\n            return undefined;\n        }\n    }\n};\nvar OpToHtmlConverter = (function () {\n    function OpToHtmlConverter(op, options) {\n        this.op = op;\n        this.options = obj.assign({}, {\n            classPrefix: 'ql',\n            inlineStyles: undefined,\n            encodeHtml: true,\n            listItemTag: 'li',\n            paragraphTag: 'p'\n        }, options);\n    }\n    OpToHtmlConverter.prototype.prefixClass = function (className) {\n        if (!this.options.classPrefix) {\n            return className + '';\n        }\n        return this.options.classPrefix + '-' + className;\n    };\n    OpToHtmlConverter.prototype.getHtml = function () {\n        var parts = this.getHtmlParts();\n        return parts.openingTag + parts.content + parts.closingTag;\n    };\n    OpToHtmlConverter.prototype.getHtmlParts = function () {\n        var _this = this;\n        if (this.op.isJustNewline() && !this.op.isContainerBlock()) {\n            return { openingTag: '', closingTag: '', content: value_types_1.NewLine };\n        }\n        var tags = this.getTags(), attrs = this.getTagAttributes();\n        if (!tags.length && attrs.length) {\n            tags.push('span');\n        }\n        var beginTags = [], endTags = [];\n        var imgTag = 'img';\n        var isImageLink = function (tag) {\n            return tag === imgTag && !!_this.op.attributes.link;\n        };\n        for (var _i = 0, tags_1 = tags; _i < tags_1.length; _i++) {\n            var tag = tags_1[_i];\n            if (isImageLink(tag)) {\n                beginTags.push(funcs_html_1.makeStartTag('a', this.getLinkAttrs()));\n            }\n            beginTags.push(funcs_html_1.makeStartTag(tag, attrs));\n            endTags.push(tag === 'img' ? '' : funcs_html_1.makeEndTag(tag));\n            if (isImageLink(tag)) {\n                endTags.push(funcs_html_1.makeEndTag('a'));\n            }\n            attrs = [];\n        }\n        endTags.reverse();\n        return {\n            openingTag: beginTags.join(''),\n            content: this.getContent(),\n            closingTag: endTags.join('')\n        };\n    };\n    OpToHtmlConverter.prototype.getContent = function () {\n        if (this.op.isContainerBlock()) {\n            return '';\n        }\n        if (this.op.isMentions()) {\n            return this.op.insert.value;\n        }\n        var content = this.op.isFormula() || this.op.isText() ? this.op.insert.value : '';\n        return (this.options.encodeHtml && funcs_html_1.encodeHtml(content)) || content;\n    };\n    OpToHtmlConverter.prototype.getCssClasses = function () {\n        var attrs = this.op.attributes;\n        if (this.options.inlineStyles) {\n            return [];\n        }\n        var propsArr = ['indent', 'align', 'direction', 'font', 'size'];\n        if (this.options.allowBackgroundClasses) {\n            propsArr.push('background');\n        }\n        return propsArr\n            .filter(function (prop) { return !!attrs[prop]; })\n            .filter(function (prop) {\n            return prop === 'background'\n                ? OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidColorLiteral(attrs[prop])\n                : true;\n        })\n            .map(function (prop) { return prop + '-' + attrs[prop]; })\n            .concat(this.op.isFormula() ? 'formula' : [])\n            .concat(this.op.isVideo() ? 'video' : [])\n            .concat(this.op.isImage() ? 'image' : [])\n            .map(this.prefixClass.bind(this));\n    };\n    OpToHtmlConverter.prototype.getCssStyles = function () {\n        var _this = this;\n        var attrs = this.op.attributes;\n        var propsArr = [['color']];\n        if (!!this.options.inlineStyles || !this.options.allowBackgroundClasses) {\n            propsArr.push(['background', 'background-color']);\n        }\n        if (this.options.inlineStyles) {\n            propsArr = propsArr.concat([\n                ['indent'],\n                ['align', 'text-align'],\n                ['direction'],\n                ['font', 'font-family'],\n                ['size']\n            ]);\n        }\n        return propsArr\n            .filter(function (item) { return !!attrs[item[0]]; })\n            .map(function (item) {\n            var attribute = item[0];\n            var attrValue = attrs[attribute];\n            var attributeConverter = (_this.options.inlineStyles &&\n                _this.options.inlineStyles[attribute]) ||\n                exports.DEFAULT_INLINE_STYLES[attribute];\n            if (typeof attributeConverter === 'object') {\n                return attributeConverter[attrValue];\n            }\n            else if (typeof attributeConverter === 'function') {\n                var converterFn = attributeConverter;\n                return converterFn(attrValue, _this.op);\n            }\n            else {\n                return arr.preferSecond(item) + ':' + attrValue;\n            }\n        })\n            .filter(function (item) { return item !== undefined; });\n    };\n    OpToHtmlConverter.prototype.getTagAttributes = function () {\n        if (this.op.attributes.code && !this.op.isLink()) {\n            return [];\n        }\n        var makeAttr = this.makeAttr.bind(this);\n        var classes = this.getCssClasses();\n        var tagAttrs = classes.length ? [makeAttr('class', classes.join(' '))] : [];\n        if (this.op.isImage()) {\n            this.op.attributes.width &&\n                (tagAttrs = tagAttrs.concat(makeAttr('width', this.op.attributes.width)));\n            return tagAttrs.concat(makeAttr('src', this.op.insert.value));\n        }\n        if (this.op.isACheckList()) {\n            return tagAttrs.concat(makeAttr('data-checked', this.op.isCheckedList() ? 'true' : 'false'));\n        }\n        if (this.op.isFormula()) {\n            return tagAttrs;\n        }\n        if (this.op.isVideo()) {\n            return tagAttrs.concat(makeAttr('frameborder', '0'), makeAttr('allowfullscreen', 'true'), makeAttr('src', this.op.insert.value));\n        }\n        if (this.op.isMentions()) {\n            var mention = this.op.attributes.mention;\n            if (mention.class) {\n                tagAttrs = tagAttrs.concat(makeAttr('class', mention.class));\n            }\n            if (mention['end-point'] && mention.slug) {\n                tagAttrs = tagAttrs.concat(makeAttr('href', mention['end-point'] + '/' + mention.slug));\n            }\n            else {\n                tagAttrs = tagAttrs.concat(makeAttr('href', 'about:blank'));\n            }\n            if (mention.target) {\n                tagAttrs = tagAttrs.concat(makeAttr('target', mention.target));\n            }\n            return tagAttrs;\n        }\n        var styles = this.getCssStyles();\n        if (styles.length) {\n            tagAttrs.push(makeAttr('style', styles.join(';')));\n        }\n        if (this.op.isCodeBlock() &&\n            typeof this.op.attributes['code-block'] === 'string') {\n            return tagAttrs.concat(makeAttr('data-language', this.op.attributes['code-block']));\n        }\n        if (this.op.isContainerBlock()) {\n            return tagAttrs;\n        }\n        if (this.op.isLink()) {\n            tagAttrs = tagAttrs.concat(this.getLinkAttrs());\n        }\n        return tagAttrs;\n    };\n    OpToHtmlConverter.prototype.makeAttr = function (k, v) {\n        return { key: k, value: v };\n    };\n    OpToHtmlConverter.prototype.getLinkAttrs = function () {\n        var tagAttrs = [];\n        var targetForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.isValidTarget(this.options.linkTarget || '')\n            ? this.options.linkTarget\n            : undefined;\n        var relForAll = OpAttributeSanitizer_1.OpAttributeSanitizer.IsValidRel(this.options.linkRel || '')\n            ? this.options.linkRel\n            : undefined;\n        var target = this.op.attributes.target || targetForAll;\n        var rel = this.op.attributes.rel || relForAll;\n        return tagAttrs\n            .concat(this.makeAttr('href', this.op.attributes.link))\n            .concat(target ? this.makeAttr('target', target) : [])\n            .concat(rel ? this.makeAttr('rel', rel) : []);\n    };\n    OpToHtmlConverter.prototype.getTags = function () {\n        var attrs = this.op.attributes;\n        if (!this.op.isText()) {\n            return [\n                this.op.isVideo() ? 'iframe' : this.op.isImage() ? 'img' : 'span'\n            ];\n        }\n        var positionTag = this.options.paragraphTag || 'p';\n        var blocks = [\n            ['blockquote'],\n            ['code-block', 'pre'],\n            ['list', this.options.listItemTag],\n            ['header'],\n            ['align', positionTag],\n            ['direction', positionTag],\n            ['indent', positionTag]\n        ];\n        for (var _i = 0, blocks_1 = blocks; _i < blocks_1.length; _i++) {\n            var item = blocks_1[_i];\n            var firstItem = item[0];\n            if (attrs[firstItem]) {\n                return firstItem === 'header'\n                    ? ['h' + attrs[firstItem]]\n                    : [arr.preferSecond(item)];\n            }\n        }\n        return [\n            ['link', 'a'],\n            ['mentions', 'a'],\n            ['script'],\n            ['bold', 'strong'],\n            ['italic', 'em'],\n            ['strike', 's'],\n            ['underline', 'u'],\n            ['code']\n        ]\n            .filter(function (item) { return !!attrs[item[0]]; })\n            .map(function (item) {\n            return item[0] === 'script'\n                ? attrs[item[0]] === value_types_1.ScriptType.Sub\n                    ? 'sub'\n                    : 'sup'\n                : arr.preferSecond(item);\n        });\n    };\n    return OpToHtmlConverter;\n}());\nexports.OpToHtmlConverter = OpToHtmlConverter;\n"]},"metadata":{},"sourceType":"script"}