{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar common_1 = require(\"./common\");\n\nfunction useStorageState(storage, key, defaultState) {\n  if (defaultState === void 0) {\n    defaultState = null;\n  }\n\n  var _a = react_1.useState(common_1.useInitialState(storage, key, defaultState)),\n      state = _a[0],\n      setState = _a[1];\n\n  common_1.useStorageListener(storage, key, defaultState, setState);\n  var writeError = common_1.useStorageWriter(storage, key, state);\n  return [state, setState, writeError];\n}\n\nexports.default = useStorageState;","map":{"version":3,"mappings":";;;;;;AAAA;;AAEA;;AAkBA,SAASA,eAAT,CACEC,OADF,EAEEC,GAFF,EAGEC,YAHF,EAG2C;AAAzC;AAAAA;AAAyC;;AAEnC;AAAA,MAACC,aAAD;AAAA,MAAQC,gBAAR;;AAINC,8BAAmBL,OAAnB,EAA4BC,GAA5B,EAAiCC,YAAjC,EAA+CE,QAA/C;AACA,MAAME,UAAU,GAAGD,0BAAiBL,OAAjB,EAA0BC,GAA1B,EAA+BE,KAA/B,CAAnB;AAEA,SAAO,CAACA,KAAD,EAAQC,QAAR,EAAkBE,UAAlB,CAAP;AACD;;AAEDC,kBAAeR,eAAf","names":["useStorageState","storage","key","defaultState","state","setState","common_1","writeError","exports"],"sourceRoot":"","sources":["../src/state.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}