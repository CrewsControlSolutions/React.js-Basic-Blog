{"map":{"version":3,"sources":["static/js/main.6c842622.chunk.js"],"names":["this","push","213","module","exports","__webpack_require__","214","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","react_router_dom","react_router","dist","context_UserContext","Object","email","isAuthenticated","components_Header","props","_useContext","user","onLogout","a","createElement","className","to","Fragment","onClick","event","preventDefault","components_Message","_ref","type","concat","saved","updated","deleted","components_Posts","posts","deletePost","length","key","map","post","slug","title","main","components_Post","contentHTML","content","ops","convert","dangerouslySetInnerHTML","__html","objectSpread2","lib","lib_default","components_PostForm","propsPost","addNewPost","updatePost","_useState","_useState2","setPost","_useState3","_useState4","setSaved","prevPostRef","current","prevPost","quillRef","useRef","getEditor","setContents","onSubmit","alert","htmlFor","defaultValue","value","onChange","target","ref","delta","source","editor","getContents","components_NotFound","components_Login","onLogin","setEmail","password","setPassword","name","disabled","index_cjs","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","src_App_0","_useStorageState","localStorage","_useStorageState2","setPosts","message","setMessage","_useStorageState3","_useStorageState4","setUser","database","on","snapshot","val","newStatePosts","setFlashMessage","setTimeout","getNewSlugFromTitle","encodeURIComponent","toLowerCase","split","join","postsRef","update","window","confirm","remove","Provider","auth","signInWithEmailAndPassword","then","response","catch","error","console","signOut","exact","path","render","find","match","params","postSlug","component","Boolean","location","hostname","document","getElementById","navigator","serviceWorker","ready","registration","unregister","80","85"],"mappings":"CAACA,KAAK,0BAA4BA,KAAK,2BAA6B,IAAIC,KAAK,CAAC,CAAC,GAAG,CAE5EC,IACA,SAAUC,EAAQC,EAASC,KAM3BC,IACA,SAAUH,EAAQI,EAAqBF,GAE7C,aAEAA,EAAoBG,EAAED,GAGtB,IAAIE,EAAQJ,EAAoB,GAC5BK,EAA6BL,EAAoBM,EAAEF,GAGnDG,EAAYP,EAAoB,IAChCQ,EAAiCR,EAAoBM,EAAEC,GAMvDE,GAHMT,EAAoB,IAGVA,EAAoB,IAGpCU,EAAmBV,EAAoB,GAGvCW,EAAeX,EAAoB,GAGnCY,EAAOZ,EAAoB,IAGmFa,EAAlGC,OAAOV,EAAqB,cAA5BU,CAA+B,CAACC,MAAM,GAAGC,iBAAgB,IAG2hBC,EADllB,SAAgBC,GAAO,IAAIC,EAAYL,OAAOV,EAAkB,WAAzBU,CAA4BD,GAAqBO,EAAKD,EAAYC,KAAKC,EAASF,EAAYE,SAAS,OAAmBhB,EAAciB,EAAEC,cAAc,SAAS,CAACC,UAAU,cAA2BnB,EAAciB,EAAEC,cAAc,KAAK,CAACC,UAAU,aAA0BnB,EAAciB,EAAEC,cAAc,KAAK,KAAkBlB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,KAAK,YAAYL,EAAKJ,gBACpdX,EAAciB,EAAEC,cAAclB,EAAciB,EAAEI,SAAS,KAAkBrB,EAAciB,EAAEC,cAAc,KAAK,KAAkBlB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,QAAQ,aAA0BpB,EAAciB,EAAEC,cAAc,KAAK,KAAkBlB,EAAciB,EAAEC,cAAc,SAAS,CAACC,UAAU,WAAWG,QAAQ,SAAiBC,GAAOA,EAAMC,iBAAiBR,MAAc,YAAyBhB,EAAciB,EAAEC,cAAc,KAAK,KAAkBlB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,UAAU,aAErHK,EAA5a,SAAiBC,GAAM,IAAIC,EAAKD,EAAKC,KAAmH,OAAmB3B,EAAciB,EAAEC,cAAc,MAAM,CAACC,UAAU,eAAeS,OAAOD,IAAoB3B,EAAciB,EAAEC,cAAc,IAAI,CAACC,UAAU,aAA0BnB,EAAciB,EAAEC,cAAc,SAAS,KAA3T,CAACW,MAAM,uBAAuBC,QAAQ,yBAAyBC,QAAQ,0BAAkQJ,OAEusBK,EAA3kC,SAAeN,GAAM,IAAIO,EAAMP,EAAKO,MAAMC,EAAWR,EAAKQ,WAA4EnB,EAAjDN,OAAOV,EAAkB,WAAzBU,CAA4BD,GAAsCO,KAAK,OAAmBf,EAAciB,EAAEC,cAAc,UAAU,CAACC,UAAU,mBAAgCnB,EAAciB,EAAEC,cAAc,KAAK,KAAK,SAAsBlB,EAAciB,EAAEC,cAAc,KAAK,KAAKe,EAAME,OAAO,GAAgBnC,EAAciB,EAAEC,cAAc,KAAK,CAACkB,IAAI,SAAS,iBAAiBH,EAAMI,KAAI,SAASC,GAAM,OAAmBtC,EAAciB,EAAEC,cAAc,KAAK,CAACkB,IAAIE,EAAKF,KAAkBpC,EAAciB,EAAEC,cAAc,KAAK,KAAkBlB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,SAASQ,OAAOU,EAAKC,OAAOD,EAAKE,QAAQzB,EAAKJ,iBAA8BX,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,SAASQ,OAAOU,EAAKC,OAAO,QAAQ,MAAmBvC,EAAciB,EAAEC,cAAc,SAAS,CAACC,UAAU,WAAWG,QAAQ,WAAmB,OAAOY,EAAWI,KAAS,kBAEniCG,EAAO9C,EAAoB,IAGqb+C,EAAtc,SAAchB,GAAM,IAAIY,EAAKZ,EAAKY,KAAkFK,EAA/D,IAAIF,EAAgC,0BAAEH,EAAKM,QAAQC,IAAI,IAA8BC,UAAU,OAAmB9C,EAAciB,EAAEC,cAAc,UAAU,CAACC,UAAU,kBAA+BnB,EAAciB,EAAEC,cAAc,KAAK,KAAKoB,EAAKE,OAAoBxC,EAAciB,EAAEC,cAAc,MAAM,CAACC,UAAU,UAAU4B,wBAAwB,CAACC,OAAOL,OAE7ZM,EAAgBtD,EAAoB,IAGpCuD,EAAMvD,EAAoB,IAC1BwD,EAA2BxD,EAAoBM,EAAEiD,GAIqvBE,EADpxB,SAAkB1B,GAAM,IAAI2B,EAAU3B,EAAKY,KAAKgB,EAAW5B,EAAK4B,WAAWC,EAAW7B,EAAK6B,WAAeC,EAAU/C,OAAOV,EAAgB,SAAvBU,CAA0BA,OAAOwC,EAA+B,EAAtCxC,CAAyC,GAAG4C,IAAYI,EAAWhD,OAAOL,EAA+B,EAAtCK,CAAyC+C,EAAU,GAAGlB,EAAKmB,EAAW,GAAGC,EAAQD,EAAW,GAAOE,EAAWlD,OAAOV,EAAgB,SAAvBU,EAA0B,GAAOmD,EAAWnD,OAAOL,EAA+B,EAAtCK,CAAyCkD,EAAW,GAAG9B,EAAM+B,EAAW,GAAGC,EAASD,EAAW,GAAOE,EAAYrD,OAAOV,EAAc,OAArBU,GAA0BA,OAAOV,EAAiB,UAAxBU,EAA2B,WAAWqD,EAAYC,QAAQzB,IAAO,CAACA,IAAO,IAAI0B,EAASF,EAAYC,QAAYE,EAASjE,EAAciB,EAAEiD,SAASzD,OAAOV,EAAiB,UAAxBU,EAA2B,WAAcuD,GAAUC,EAASF,SAAYV,EAAUjB,MAAM4B,EAAS5B,MAAKsB,EAAQjD,OAAOwC,EAA+B,EAAtCxC,CAAyC,GAAG4C,IAAYY,EAASF,QAAQI,YAAYC,YAAY,OAAQ,CAACJ,EAASX,IAA4M,OAAW,IAARxB,EAAiC7B,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,MAA0BpB,EAAciB,EAAEC,cAAc,OAAO,CAACC,UAAU,YAAYkD,SAA1W,SAAwB9C,GAAOA,EAAMC,iBAAoBc,EAAKE,OAAUe,EAAYA,EAAWjB,GAAYgB,EAAWhB,GAAOuB,GAAS,IAAYS,MAAM,oBAAwPtE,EAAciB,EAAEC,cAAc,KAAK,KAAK,kBAA+BlB,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,QAAQ,CAACqD,QAAQ,cAAc,UAAuBvE,EAAciB,EAAEC,cAAc,KAAK,MAAmBlB,EAAciB,EAAEC,cAAc,QAAQ,CAACsD,aAAalC,EAAKE,MAC1mDJ,IAAI,aAAaqC,MAAMnC,EAAKE,MAAMkC,SAAS,SAAkBnD,GAAO,OAAOmC,EAAQjD,OAAOwC,EAA+B,EAAtCxC,CAAyCA,OAAOwC,EAA+B,EAAtCxC,CAAyC,GAAG6B,GAAM,GAAG,CAACE,MAAMjB,EAAMoD,OAAOF,aAA2BzE,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,QAAQ,CAACqD,QAAQ,gBAAgB,aAA0BvE,EAAciB,EAAEC,cAAciC,EAAYlC,EAAE,CAAC2D,IAAIX,EAASO,aAAalC,EAAKM,QAAQ8B,SAAS,SAAkB9B,EAAQiC,EAAMC,EAAOC,GAAQrB,EAAQjD,OAAOwC,EAA+B,EAAtCxC,CAAyCA,OAAOwC,EAA+B,EAAtCxC,CAAyC,GAAG6B,GAAM,GAAG,CAACM,QAAQmC,EAAOC,oBAAkChF,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,SAAS,CAACS,KAAK,UAAU,WAElWsD,EAArY,WAAoB,OAAmBjF,EAAciB,EAAEC,cAAc,UAAU,CAACC,UAAU,uBAAoCnB,EAAciB,EAAEC,cAAc,KAAK,KAAK,QAAqBlB,EAAciB,EAAEC,cAAc,IAAI,KAAK,sBAAmClB,EAAciB,EAAEC,cAAcb,EAA+B,EAAE,CAACe,GAAG,KAAK,sBAEkhC8D,EAAr2C,SAAerE,GAAO,IAAiEsE,EAAjD1E,OAAOV,EAAkB,WAAzBU,CAA4BD,GAAyC2E,QAAY3B,EAAU/C,OAAOV,EAAgB,SAAvBU,CAA0B,IAAIgD,EAAWhD,OAAOL,EAA+B,EAAtCK,CAAyC+C,EAAU,GAAG9C,EAAM+C,EAAW,GAAG2B,EAAS3B,EAAW,GAAOE,EAAWlD,OAAOV,EAAgB,SAAvBU,CAA0B,IAAImD,EAAWnD,OAAOL,EAA+B,EAAtCK,CAAyCkD,EAAW,GAAG0B,EAASzB,EAAW,GAAG0B,EAAY1B,EAAW,GAAgG,OAAmB5D,EAAciB,EAAEC,cAAc,OAAO,CAACC,UAAU,YAAYoE,KAAK,QAAQlB,SAAzK,SAAqB9C,GAAOA,EAAMC,iBAAiB2D,EAAQzE,EAAM2E,KAA2IrF,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,QAAQ,CAACqD,QAAQ,SAAS,UAAuBvE,EAAciB,EAAEC,cAAc,QAAQ,CAACS,KAAK,QAAQ+C,SAAS,SAAkBnD,GAAO,OAAO6D,EAAS7D,EAAMoD,OAAOF,WAAyBzE,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,QAAQ,CAACqD,QAAQ,YAAY,aAA0BvE,EAAciB,EAAEC,cAAc,QAAQ,CAACS,KAAK,WAAW+C,SAAS,SAAkBnD,GAAO,OAAO+D,EAAY/D,EAAMoD,OAAOF,WAAyBzE,EAAciB,EAAEC,cAAc,IAAI,KAAkBlB,EAAciB,EAAEC,cAAc,SAAS,CAACS,KAAK,SAAS6D,UAAU9E,IAAQ2E,GAAU,YAEn0CI,EAAY9F,EAAoB,IAGpBA,EAAoB,KAGfA,EAAoB,KAIuS8F,EAAyB,cAA9V,CAACC,OAAO,0CAA0CC,WAAW,oCAAoCC,YAAY,wDAAwDC,UAAU,oBAAoBC,cAAc,gCAAgCC,kBAAkB,eAAeC,MAAM,8CACtQ,IAAIC,EAAW,EAuBmvFC,GArBjxFvG,EAAoB,KAGtB,SAAakB,GAAO,IAAIsF,EAAiB1F,OAAOF,EAAsB,gBAA7BE,CAAgC2F,aAAa,cAAc,IAAIC,EAAkB5F,OAAOL,EAA+B,EAAtCK,CAAyC0F,EAAiB,GAAGlE,EAAMoE,EAAkB,GAAGC,EAASD,EAAkB,GAAO7C,EAAU/C,OAAOV,EAAgB,SAAvBU,CAA0B,MAAMgD,EAAWhD,OAAOL,EAA+B,EAAtCK,CAAyC+C,EAAU,GAAG+C,EAAQ9C,EAAW,GAAG+C,EAAW/C,EAAW,GAAOgD,EAAkBhG,OAAOF,EAAsB,gBAA7BE,CAAgC2F,aAAa,aAAa,IAAIM,EAAkBjG,OAAOL,EAA+B,EAAtCK,CAAyCgG,EAAkB,GAAG1F,EAAK2F,EAAkB,GAAGC,EAAQD,EAAkB,GAAGjG,OAAOV,EAAiB,UAAxBU,EAA2B,WAAwBwF,EAASW,WAAWhC,IAAI,SAAkBiC,GAAG,SAAQ,SAASC,GAAU,IAAI7E,EAAM6E,EAASC,MAAUC,EAAc,GAAG,IAAI,IAAI1E,KAAQL,EAAO+E,EAAczH,KAAK,CAAC6C,IAAIE,EAAKC,KAAKN,EAAMK,GAAMC,KAAKC,MAAMP,EAAMK,GAAME,MAAMI,QAAQX,EAAMK,GAAMM,UAAW0D,EAASU,QAAoB,CAACV,IAAW,IAAIW,EAAgB,SAAyBV,GAASC,EAAWD,GAASW,YAAW,WAAWV,EAAW,QAAQ,OAAYW,EAAoB,SAA6B3E,GAAO,OAAO4E,mBAAmB5E,EAAM6E,cAAcC,MAAM,KAAKC,KAAK,OAAYjE,EAAW,SAAoBhB,GAAM,IAAIkF,EAASvB,EAASW,WAAWhC,IAAI,SAAStC,EAAKC,KAAK4E,EAAoB7E,EAAKE,cAAcF,EAAKF,IAAIoF,EAASjI,KAAK+C,GAAM2E,EAAgB,UAMt3C1D,EAAW,SAAoBjB,GAAkB2D,EAASW,WAAWhC,IAAI,SAAStC,EAAKF,KAAaqF,OAAO,CAAClF,KAAK4E,EAAoB7E,EAAKE,OAAOA,MAAMF,EAAKE,MAAMI,QAAQN,EAAKM,UAKnLqE,EAAgB,YAAiB/E,EAAW,SAAoBI,GAASoF,OAAOC,QAAQ,uBAAkC1B,EAASW,WAAWhC,IAAI,SAAStC,EAAKF,KAAawF,SAE7KX,EAAgB,aAKsS,OAAmBjH,EAAciB,EAAEC,cAAcb,EAAwC,EAAE,KAAkBL,EAAciB,EAAEC,cAAcV,EAAoBqH,SAAS,CAACpD,MAAM,CAAC1D,KAAKA,EAAKoE,QADpe,SAAiBzE,EAAM2E,GAAUY,EAAS6B,OAAOC,2BAA2BrH,EAAM2E,GAC7F2C,MAAK,SAASC,GAAUtB,EAAQ,CAACjG,MAAMuH,EAASlH,KAAY,MAAEJ,iBAAgB,OAAUuH,OAAM,SAASC,GAAO,OAAOC,QAAQD,MAAMA,OAA4XnH,SAAnW,WAAoBiF,EAAS6B,OAAOO,UAAUL,MAAK,WAAWrB,EAAQ,CAAChG,iBAAgB,OAAWuH,OAAM,SAASC,GAAO,OAAOC,QAAQD,MAAMA,SAAuPnI,EAAciB,EAAEC,cAAc,MAAM,CAACC,UAAU,OAAoBnB,EAAciB,EAAEC,cAAcN,EAAkB,MAAM2F,GAAsBvG,EAAciB,EAAEC,cAAcO,EAAmB,CAACE,KAAK4E,IAAuBvG,EAAciB,EAAEC,cAAcZ,EAA6B,EAAE,KAAkBN,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACgI,OAAM,EAAKC,KAAK,IAAIC,OAAO,WAAkB,OAAmBxI,EAAciB,EAAEC,cAAcc,EAAiB,CAACC,MAAMA,EAAMC,WAAWA,OAA8BlC,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACiI,KAAK,kBAAkBC,OAAO,SAAgB3H,GAAO,IAAIyB,EAAKL,EAAMwG,MAAK,SAASnG,GAAM,OAAOA,EAAKC,OAAO1B,EAAM6H,MAAMC,OAAOC,YAAY,OAAGtG,EAAyBtC,EAAciB,EAAEC,cAAcwB,EAAgB,CAACJ,KAAKA,IAAgCtC,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,SAAwBpB,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACgI,OAAM,EAAKC,KAAK,SAASC,OAAO,WAAkB,OAAOzH,EAAKJ,gBAA+FX,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,MAArIpB,EAAciB,EAAEC,cAAcgE,EAAiB,SAA6GlF,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACgI,OAAM,EAAKC,KAAK,OAAOC,OAAO,WAAkB,OAAOzH,EAAKJ,gBAA6BX,EAAciB,EAAEC,cAAckC,EAAoB,CAACE,WAAWA,EAAWhB,KAAK,CAACF,IAAI,KAAKG,KAAK,GAAGC,MAAM,GAAGI,QAAQ,MAAmB5C,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,cAA4BpB,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACiI,KAAK,kBAAkBC,OAAO,SAAgB3H,GAAO,IAAIyB,EAAKL,EAAMwG,MAAK,SAASnG,GAAM,OAAOA,EAAKC,OAAO1B,EAAM6H,MAAMC,OAAOC,YAAY,OAAGtG,EAASvB,EAAKJ,gBAAoCX,EAAciB,EAAEC,cAAckC,EAAoB,CAACG,WAAWA,EAAWjB,KAAKA,IAAgCtC,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,WAAqCpB,EAAciB,EAAEC,cAAcZ,EAA+B,EAAE,CAACc,GAAG,SAAwBpB,EAAciB,EAAEC,cAAcZ,EAA4B,EAAE,CAACuI,UAAU5D,UAiBltF6D,QAAmC,cAA3BpB,OAAOqB,SAASC,UACb,UAA3BtB,OAAOqB,SAASC,UAChBtB,OAAOqB,SAASC,SAASN,MAAM,2DAsB/BvI,EAAkBc,EAAEuH,OAAoBxI,EAAciB,EAAEC,cAAcgF,EAAU,MAAM+C,SAASC,eAAe,SAF+C,kBAAkBC,WAAWA,UAAUC,cAAcC,MAAMrB,MAAK,SAASsB,GAAcA,EAAaC,iBAS3PC,GACA,SAAU/J,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoB,MAK/B8J,GACA,SAAUhK,EAAQC,EAASC,MAM/B,CAAC,CAAC,GAAG,EAAE"},"code":"(this[\"webpackJsonpproject-05\"]=this[\"webpackJsonpproject-05\"]||[]).push([[0],{213:function(e,t,n){},214:function(e,t,n){\"use strict\";n.r(t);var a=n(0),l=n.n(a),r=n(47),c=n.n(r),o=(n(85),n(8)),u=n(7),s=n(2),i=n(48),m=Object(a.createContext)({email:\"\",isAuthenticated:!1}),p=function(e){var t=Object(a.useContext)(m),n=t.user,r=t.onLogout;return l.a.createElement(\"header\",{className:\"App-header\"},l.a.createElement(\"ul\",{className:\"container\"},l.a.createElement(\"li\",null,l.a.createElement(u.b,{to:\"/\"},\"My Site\")),n.isAuthenticated?l.a.createElement(l.a.Fragment,null,l.a.createElement(\"li\",null,l.a.createElement(u.b,{to:\"/new\"},\"New Post\")),l.a.createElement(\"li\",null,l.a.createElement(\"button\",{className:\"linkLike\",onClick:function(e){e.preventDefault(),r()}},\"Logout\"))):l.a.createElement(\"li\",null,l.a.createElement(u.b,{to:\"/login\"},\"Login\"))))},d=function(e){var t=e.type;return l.a.createElement(\"div\",{className:\"App-message \".concat(t)},l.a.createElement(\"p\",{className:\"container\"},l.a.createElement(\"strong\",null,{saved:\"Post has been saved!\",updated:\"Post has been updated!\",deleted:\"Post has been deleted.\"}[t])))},E=function(e){var t=e.posts,n=e.deletePost,r=Object(a.useContext)(m).user;return l.a.createElement(\"article\",{className:\"posts container\"},l.a.createElement(\"h1\",null,\"Posts\"),l.a.createElement(\"ul\",null,t.length<1&&l.a.createElement(\"li\",{key:\"empty\"},\"No posts yet!\"),t.map((function(e){return l.a.createElement(\"li\",{key:e.key},l.a.createElement(\"h2\",null,l.a.createElement(u.b,{to:\"/post/\".concat(e.slug)},e.title)),r.isAuthenticated&&l.a.createElement(\"p\",null,l.a.createElement(u.b,{to:\"/edit/\".concat(e.slug)},\"Edit\"),\" | \",l.a.createElement(\"button\",{className:\"linkLike\",onClick:function(){return n(e)}},\"Delete\")))}))))},f=n(78),b=function(e){var t=e.post,n=new f.QuillDeltaToHtmlConverter(t.content.ops,{}).convert();return l.a.createElement(\"article\",{className:\"post container\"},l.a.createElement(\"h1\",null,t.title),l.a.createElement(\"div\",{className:\"content\",dangerouslySetInnerHTML:{__html:n}}))},g=n(14),h=n(79),v=n.n(h),j=function(e){var t=e.post,n=e.addNewPost,r=e.updatePost,c=Object(a.useState)(Object(g.a)({},t)),u=Object(o.a)(c,2),i=u[0],m=u[1],p=Object(a.useState)(!1),d=Object(o.a)(p,2),E=d[0],f=d[1],b=Object(a.useRef)();Object(a.useEffect)((function(){b.current=i}),[i]);var h=b.current,j=l.a.useRef();Object(a.useEffect)((function(){h&&j.current&&t.key!==h.key&&(m(Object(g.a)({},t)),j.current.getEditor().setContents(\"\"))}),[h,t]);return!0===E?l.a.createElement(s.a,{to:\"/\"}):l.a.createElement(\"form\",{className:\"container\",onSubmit:function(e){e.preventDefault(),i.title?(r?r(i):n(i),f(!0)):alert(\"Title required\")}},l.a.createElement(\"h1\",null,\"Add a New Post\"),l.a.createElement(\"p\",null,l.a.createElement(\"label\",{htmlFor:\"form-title\"},\"Title:\"),l.a.createElement(\"br\",null),l.a.createElement(\"input\",{defaultValue:i.title,key:\"form-title\",value:i.title,onChange:function(e){return m(Object(g.a)(Object(g.a)({},i),{},{title:e.target.value}))}})),l.a.createElement(\"p\",null,l.a.createElement(\"label\",{htmlFor:\"form-content\"},\"Content:\")),l.a.createElement(v.a,{ref:j,defaultValue:i.content,onChange:function(e,t,n,a){m(Object(g.a)(Object(g.a)({},i),{},{content:a.getContents()}))}}),l.a.createElement(\"p\",null,l.a.createElement(\"button\",{type:\"submit\"},\"Save\")))},O=function(){return l.a.createElement(\"article\",{className:\"not-found container\"},l.a.createElement(\"h1\",null,\"404!\"),l.a.createElement(\"p\",null,\"Content not found. \",l.a.createElement(u.b,{to:\"/\"},\"Return to posts\")))},y=function(e){var t=Object(a.useContext)(m).onLogin,n=Object(a.useState)(\"\"),r=Object(o.a)(n,2),c=r[0],u=r[1],s=Object(a.useState)(\"\"),i=Object(o.a)(s,2),p=i[0],d=i[1];return l.a.createElement(\"form\",{className:\"container\",name:\"login\",onSubmit:function(e){e.preventDefault(),t(c,p)}},l.a.createElement(\"p\",null,l.a.createElement(\"label\",{htmlFor:\"email\"},\"Email:\"),l.a.createElement(\"input\",{type:\"email\",onChange:function(e){return u(e.target.value)}})),l.a.createElement(\"p\",null,l.a.createElement(\"label\",{htmlFor:\"password\"},\"Password:\"),l.a.createElement(\"input\",{type:\"password\",onChange:function(e){return d(e.target.value)}})),l.a.createElement(\"p\",null,l.a.createElement(\"button\",{type:\"submit\",disabled:!c&&!p},\"Login\")))},w=n(50);n(207),n(209);w.initializeApp({apiKey:\"AIzaSyDG9UAcd8r6MrgejzWqDF4cTeVXJ_xWljE\",authDomain:\"react-blog-demo-1.firebaseapp.com\",databaseURL:\"https://react-blog-demo-1-default-rtdb.firebaseio.com\",projectId:\"react-blog-demo-1\",storageBucket:\"react-blog-demo-1.appspot.com\",messagingSenderId:\"702257424356\",appId:\"1:702257424356:web:0e3d95f0654cace51089f1\"});var k=w,S=(n(213),function(e){var t=Object(i.useStorageState)(localStorage,\"state-posts\",[]),n=Object(o.a)(t,2),r=n[0],c=n[1],f=Object(a.useState)(null),g=Object(o.a)(f,2),h=g[0],v=g[1],w=Object(i.useStorageState)(localStorage,\"state-user\",{}),S=Object(o.a)(w,2),N=S[0],C=S[1];Object(a.useEffect)((function(){k.database().ref(\"posts\").on(\"value\",(function(e){var t=e.val(),n=[];for(var a in t)n.push({key:a,slug:t[a].slug,title:t[a].title,content:t[a].content});c(n)}))}),[c]);var A=function(e){v(e),setTimeout((function(){v(null)}),1600)},P=function(e){return encodeURIComponent(e.toLowerCase().split(\" \").join(\"-\"))},L=function(e){var t=k.database().ref(\"posts\");e.slug=P(e.title),delete e.key,t.push(e),A(\"saved\")},x=function(e){k.database().ref(\"posts/\"+e.key).update({slug:P(e.title),title:e.title,content:e.content}),A(\"updated\")},D=function(e){window.confirm(\"Delete this post?\")&&(k.database().ref(\"posts/\"+e.key).remove(),A(\"deleted\"))};return l.a.createElement(u.a,null,l.a.createElement(m.Provider,{value:{user:N,onLogin:function(e,t){k.auth().signInWithEmailAndPassword(e,t).then((function(e){C({email:e.user.email,isAuthenticated:!0})})).catch((function(e){return console.error(e)}))},onLogout:function(){k.auth().signOut().then((function(){C({isAuthenticated:!1})})).catch((function(e){return console.error(e)}))}}},l.a.createElement(\"div\",{className:\"App\"},l.a.createElement(p,null),h&&l.a.createElement(d,{type:h}),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:\"/\",render:function(){return l.a.createElement(E,{posts:r,deletePost:D})}}),l.a.createElement(s.b,{path:\"/post/:postSlug\",render:function(e){var t=r.find((function(t){return t.slug===e.match.params.postSlug}));return t?l.a.createElement(b,{post:t}):l.a.createElement(s.a,{to:\"/\"})}}),l.a.createElement(s.b,{exact:!0,path:\"/login\",render:function(){return N.isAuthenticated?l.a.createElement(s.a,{to:\"/\"}):l.a.createElement(y,null)}}),l.a.createElement(s.b,{exact:!0,path:\"/new\",render:function(){return N.isAuthenticated?l.a.createElement(j,{addNewPost:L,post:{key:null,slug:\"\",title:\"\",content:\"\"}}):l.a.createElement(s.a,{to:\"/login\"})}}),l.a.createElement(s.b,{path:\"/edit/:postSlug\",render:function(e){var t=r.find((function(t){return t.slug===e.match.params.postSlug}));return t?N.isAuthenticated?l.a.createElement(j,{updatePost:x,post:t}):l.a.createElement(s.a,{to:\"/login\"}):l.a.createElement(s.a,{to:\"/\"})}}),l.a.createElement(s.b,{component:O})))))});Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(S,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,n){e.exports=n(214)},85:function(e,t,n){}},[[80,1,2]]]);","extractedComments":[]}